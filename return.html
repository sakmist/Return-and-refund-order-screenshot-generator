<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="description" content="自定义收货地址和发货地址的电商退货的截图,快速生成退货订单高清截图">

  <title>网购退货退款订单截图生成器</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="./js/tw3.4.5.js"></script>
  <link href="./font/font-awesome-all.min.css" rel="stylesheet" crossorigin="anonymous" />
  <link rel="stylesheet" href="./font/f.css">

  <style>
    .money {
      font-style: normal;
      font-family: WeChatNum;
    }

    body,
    .defaultFont {
      font-family: -apple-system, SF Pro, "Helvetica Neue", "PingFang SC", sans-serif, Roboto;
      -webkit-font-smoothing: antialiased;
    }

    .gray-color {
      color: #9f9f9f
    }

    .sidebar {
      display: flex;
      flex-direction: column;
      align-self: stretch;
      gap: 18px;
      width: 360px;
      max-height: 100%;
    }

    .sidebar-card {
      background: #ffffff;
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.10);
    }

    .sidebar-form {
      flex: 1 1 auto;
      display: flex;
      flex-direction: column;
      gap: 18px;
      overflow-y: auto;
      max-height: 1040px;
    }

    .sidebar-form .mb-4 {
      margin-bottom: 0;
    }

    .sidebar button {
      width: 100%;
    }

    @media (max-width: 1200px) {
      .builder-layout {
        flex-direction: column;
        align-items: center;
        gap: 32px;
      }

      .sidebar {
        width: 100%;
        max-width: 480px;
      }

      .preview-shell {
        width: 100%;
        max-width: 540px;
      }
    }

    .sidebar input:focus,
    .sidebar button:focus-visible {
      outline: 2px solid #3b82f6;
      outline-offset: 2px;
    }

    .preview-shell {
      background: linear-gradient(160deg, rgba(148, 163, 184, 0.16), rgba(226, 232, 240, 0.62));
      border-radius: 36px;
      padding: 32px;
      box-shadow: 0 28px 64px rgba(15, 23, 42, 0.12);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #screen {
      /*border-radius: 40px;*/
      overflow: hidden;
      box-shadow: 0 25px 45px rgba(15, 23, 42, 0.12);
      background-image: url('./img/return-bg.png');
      background-repeat: no-repeat;
      background-size: cover;
      background-position: 0 0;
      background-color: #fff;
      width: 504px;
      height: 1087px;
      padding-top: 90px;
      position: relative;
    }

    .time-text {
      color: #9ba1b2
    }

    .s-time {
      font-size: 22px;
      width: 100px;
      text-align: right;
      font-weight: bold;
      background-color: #fff;
    }

    .t-orange {
      color: #fc6600;
    }
  </style>
</head>

<body class="bg-slate-50 text-gray-900" id="app" style="margin:0;padding:64px 0;">
  <div class="max-w-5xl mx-auto px-10 flex flex-col gap-10">
    <div class="space-y-2">
      <h1 class="text-3xl font-bold tracking-tight text-slate-900">拼多多退货退款截图生成器</h1>
      <p class="text-sm text-slate-500">仅用于学习排版，请勿伪造或误导他人，寄件信息需与快递真实一致。</p>
    </div>
    <div class="builder-layout flex justify-between items-start gap-10">
      <div class="preview-shell">
        <div id="screen" ref="screen">
          <template v-if="layers.length">
            <template v-for="(layer, layerIndex) in layers" :key="layerKey(layer, layerIndex)">
              <component
                v-if="layer.type !== 'group'"
                :is="layer.tag || 'span'"
                :class="layer.class"
                :style="layer.style"
              >
                <template v-if="layer.type === 'static'">
                  {{ layer.text || '' }}
                </template>
                <template v-else>
                  {{ formatLayerValue(layer) }}
                </template>
              </component>
              <component
                v-else
                :is="layer.tag || 'div'"
                :class="layer.class"
                :style="layer.style"
              >
                <template v-for="(child, childIndex) in layer.children || []" :key="`${layerKey(layer, layerIndex)}-child-${childIndex}`">
                  <component
                    :is="child.tag || 'span'"
                    :class="child.class"
                    :style="child.style"
                  >
                    <template v-if="child.type === 'static'">
                      {{ child.text || '' }}
                    </template>
                    <template v-else>
                      {{ formatLayerValue(child) }}
                    </template>
                  </component>
                </template>
              </component>
            </template>
          </template>
          <div v-else class="p-6 text-center text-sm text-slate-500">
            {{ configError || '配置加载中...' }}
          </div>
        </div>
      </div>
      <div class="sidebar">
        <div class="sidebar-card">
          <button type="button"
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded disabled:opacity-70"
            :disabled="isCapturing" @click="screenshot" id="generatePic">
            {{ isCapturing ? '生成中...' : '生成截图' }}
          </button>
        </div>
        <div class="sidebar-card sidebar-form">
          <template v-if="fields.length">
            <div class="mb-4" v-for="field in fields" :key="field.id">
              <label class="block text-gray-700 mb-2">{{ field.label }}</label>
              <div v-if="field.clipboardHelper" class="flex gap-2">
                <textarea
                  v-if="isTextarea(field)"
                  v-model="values[field.id]"
                  v-bind="inputAttrs(field)"
                  class="border border-gray-300 w-full p-2 rounded-md flex-1"
                ></textarea>
                <input
                  v-else
                  v-model="values[field.id]"
                  v-bind="inputAttrs(field)"
                  class="border border-gray-300 w-full p-2 rounded-md flex-1"
                >
                <button type="button"
                  class="bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium px-3 py-2 rounded-md whitespace-nowrap"
                  style="width: auto;"
                  @click="fillFromClipboard(field)">
                  {{ field.clipboardHelper.buttonText || '粘贴自动填' }}
                </button>
              </div>
              <textarea
                v-else-if="isTextarea(field)"
                v-model="values[field.id]"
                v-bind="inputAttrs(field)"
                class="border border-gray-300 w-full p-2 rounded-md"
              ></textarea>
              <input
                v-else
                v-model="values[field.id]"
                v-bind="inputAttrs(field)"
                class="border border-gray-300 w-full p-2 rounded-md"
              >
            </div>
          </template>
          <div v-else class="text-sm text-gray-500">
            {{ configError || '配置加载中...' }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="./js/mini/vue.global.prod.min.js"></script>
  <script src="./js/mini/html2canvas.min.js"></script>
  <script src="./js/mini/pdd-return-app.js"></script>
</body>

</html>
